<?xml version="1.0" encoding="UTF-8"?>
<chapter id="donnees_minimum">
  <title>Minimum data set</title>

  <para>PMB relies on a set of files (scripts PHP, XML,...) and a database. In order to function properly, PMB requires that a minimum set of data be present in the database.</para>

  <para>PMB is distributed with various SQL files in the /tables directory</para>

  <para>Using the installation script <emphasis role="bold">tables/install.php </emphasis>simplifies loading of the SQL files by offering an interface for a quick start. However, in order to customize PMB for your personal needs, it is recommended to use the SQL files directly.</para>

  <para>For more information about the installation interface <emphasis role="bold">tables/install.php</emphasis> refer to the PMB Installation Guide.</para>

  <sect1>
    <title>Database structure</title>

    <para>The file <emphasis role="bold">bibli.sql</emphasis> contains information on the PMB database structure, it must be loaded first.</para></sect1>

  <sect1>
    <title>Minimum data to launch PMB</title>

    <para>In order to launch PMB, the file <emphasis role="bold">minimum.sql</emphasis> must have been loaded in the database at the least; this file defines:</para>

    <itemizedlist><listitem><para>a user: the super-user, this is the PMB administrator. This account cannot be deleted in the interface. It always has access privileges on all PMB functions.</para></listitem>

      <listitem><para>a set of parameters: they represent the application operating parameters.</para></listitem></itemizedlist>

    <para><emphasis role="bold">Warning</emphasis>, the minimum data sets only allow the launching of PMB, they do not allow cataloguing of a bibliographical record. In order to make a catalogue record (enter works in the database), PMB needs to have document status, sections, owners ... already defined.</para></sect1>

  <sect1>
    <title>Data for launching PMB in quick-start mode</title>

    <para>In order to launch PMB in quick-start mode (allowing immediate cataloguing), in addition to the files bibli.sql and minimum.sql, you need to load the file <emphasis role="bold">feed_essential.sql</emphasis>; this file defines:</para>

    <itemizedlist><listitem><para>Pre-loaded, modifiable bibliographical data.</para></listitem>

      <listitem><para>A set of backups ready to use</para></listitem>

      <listitem><para>A set of Z3950 parameters.</para></listitem></itemizedlist></sect1>

  <sect1>
    <title>A selection of bibliographical records, readers, ....  to test PMB rightaway</title>

    <para>In order to test PMB, load the file <emphasis role="bold">data_test.sql</emphasis> in addition to the files bibli.sql, minimum.sql, feed_essential.sql. This file defines examples of:</para>

    <itemizedlist><listitem><para>bibliographical records</para></listitem>

      <listitem><para>readers</para></listitem>

      <listitem><para>lenders</para></listitem>

      <listitem><para>copies</para></listitem>

      <listitem><para>serials</para></listitem>

      <listitem><para>...</para></listitem></itemizedlist>

    <para><emphasis role="bold">Note</emphasis> This file is based on bibliographical data provided in feed_essential.sql</para>

    <para><emphasis role="bold">Important</emphasis> These test data are based on the thesaurus UNESCO_FR that must be loaded using the file <emphasis role="bold">unesco_fr.sql</emphasis></para></sect1>

  <sect1>
    <title>Thesaurus and internal indexes</title>

    <para>PMB also offers the possibility to load a thesaurus (filling up PMB subject headings) and an internal index.</para>

    <para>You can load the following thesauri:</para>

    <itemizedlist><listitem><para>unesco_fr.sql: UNESCO thesaurus, hierarchical structure, fairly large and well designed.</para></listitem>

      <listitem><para>grumeau.sql: smaller, simpler and also well designed.</para></listitem>

      <listitem><para>environnement.sql: A possible thesaurus for an environmentally-oriented library.</para></listitem></itemizedlist>

    <para>You can load the following internal indexes:</para>

    <itemizedlist><listitem><para>indexint_100.sql: 100 knowledge boxes or color wheel, decimal index, Dewey style simplified for schools</para></listitem>

      <listitem><para>indexint_chambery.sql: Dewey style index of the Chamb&eacute;ry municipal library, very well designed but not very useful for small libraries</para></listitem>

      <listitem><para>indexint_dewey.sql : Dewey style index</para></listitem>

      <listitem><para>indexint_small_en.sql : small Dewey style index in English</para></listitem></itemizedlist></sect1>

  <sect1>
    <title>Deleting test data sets</title>

    <para>The test data sets that you might have loaded to test PMB are not useful for a daily PMB usage and could interfere with your database.</para>

    <sect2>
      <title>With Windows</title>

      <para>To delete the test set from the database, the file empty_example_set.bat is available on Windows.</para>

      <para>This program is run from the Windows command line, accessible from the Start menu &gt; Run then enter &quot;cmd&quot; in Windows 2000 or XP. Enter the application's path, for example</para>

      <para><programlisting>c:/pmb/tables/empty_example_set.bat %1 %2 %3 %4 </programlisting></para>

      <para>With the values:</para>

      <itemizedlist><listitem><para>%1 : name of the database</para></listitem>

        <listitem><para>%2 : name of the host computer for mysql server</para></listitem>

        <listitem><para>%3 : user name of the PMB database</para></listitem>

        <listitem><para>%4 : user password (can be blank)</para></listitem></itemizedlist>

      <para><emphasis role="bold">Warning</emphasis> The application <emphasis>mysql.exe</emphasis> must be present in the "path" so it can be launched by empty_example_set.bat; if this batch file does not work, edit it and specify the path for MySQL on line 74</para>

      <para><emphasis role="bold">Operation screen for empty_example_set.bat</emphasis></para>

      <para><programlisting>If you have loaded the PMB test data (data_test.sql), a set of bibliographical records and copies is then available to test PMB. This script offers to delete the examples tables from the application in order to start anew with an empty database: ------------------------------------------ borrowers table borrower groups table loans table records table copies table serials issues table serials contents table collections table series table sub-series table authors table publishers table ------------------------------------------ e) EMPTY THE EXAMPLE TABLES q) Quit</programlisting></para>

      <para>Then press letter <emphasis role="bold">e</emphasis> to empty the examples or <emphasis role="bold">q</emphasis> to quit</para></sect2>

    <sect2>
      <title>With Linux</title>

      <para>To delete the test set from the database, the file empty_example_set.cmd is available on Linux. It functions exactly like empty_example_set.bat on Windows</para>

      <para><emphasis role="bold">Warning</emphasis> The executable file <emphasis>mysql</emphasis> must be present in the &quot;path&quot; so it can be launched by empty_example_set.cmd</para></sect2></sect1>

  <sect1>
    <title>Further Information</title>

    <para>For more information on the thesauri and internal indexes supplied with PMB refer to the <emphasis>PMB User's Guide</emphasis>.</para>

    <para>For more information on the tables loaded by the various SQL files, refer to the file tables/readme.txt</para>

    <para>To display the PMB database structure, open the file /doc/noyau/index.php with your browser.</para></sect1></chapter>