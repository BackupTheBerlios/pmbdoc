<?xml version="1.0" encoding="UTF-8"?>
<chapter id="donnees_minimum">
  <title>Minimum data amount</title>

  <para>PMB is relies on a set of files (scripts PHP, XML,â€¦) and a database. In order to work properly, PMB requires that a minimum amount of data be present in the database.</para>

  <para>PMB is distributed with various SQL files in the /tables directory</para>

  <para>Using the installation script <emphasis role="bold">tables/install.php </emphasis>simplifies loading of the SQL files, by offering an interface for a quick start. However, in order to configure PMB for your personal needs, direct use of the SQL files is recommended.</para>

  <para>For more information about the installation interface <emphasis role="bold">tables/install.php</emphasis> refer to the PMB Installation Guide.</para>

  <sect1>
    <title>Database structure</title>

    <para>The file <emphasis role="bold">bibli.sql</emphasis> contains information on the PMB database structure and must be loaded first.</para></sect1>

  <sect1>
    <title>Minimum data amount to launch PMB</title>

    <para>In order to launch PMB, the file <emphasis role="bold">minimum.sql</emphasis> must have been loaded in the database, this file defines:</para>

    <itemizedlist><listitem><para>a user: the super-user, this is the PMB administrator. This account cannot be deleted in the interface. It always has access rights on all PMB functions.</para></listitem>

      <listitem><para>a set of parameters: these represent the application operating parameters.</para></listitem></itemizedlist>

    <para><emphasis role="bold">Warning</emphasis> this minimal data amount allows PMB launching, they do not allow cataloguing of a bibliographical note. In order to catalog (enter works in the database), PMB needs to have defined document status, sections, owners ...</para></sect1>

  <sect1>
    <title>Data allowing PMB launch in quick-start mode</title>

    <para>In order to launch PMB in quick-start mode (allowing immediate cataloguing), in addition to the files bibli.sql and minimum.sql, the file <emphasis role="bold">feed_essential.sql</emphasis> must be loaded; this file defines:</para>

    <itemizedlist><listitem><para>Pre-filled, modifiable application data.</para></listitem>

      <listitem><para>A set of backups ready to use</para></listitem>

      <listitem><para>A set of Z3950 parameters.</para></listitem></itemizedlist></sect1>

  <sect1>
    <title>A selection of bibliographical notes data, readers, in order to test PMB right away.</title>

    <para>In order to test PMB, in addition to the files bibli.sql, minimum.sql, feed_essential.sql load the file <emphasis role="bold">data_test.sql</emphasis>. This file defines examples of:</para>

    <itemizedlist><listitem><para>bibliographical notes</para></listitem>

      <listitem><para>readers</para></listitem>

      <listitem><para>lenders</para></listitem>

      <listitem><para>copies</para></listitem>

      <listitem><para>periodicals</para></listitem>

      <listitem><para>...</para></listitem></itemizedlist>

    <para><emphasis role="bold">Note</emphasis> This file is based on application data provided in feed_essential.sql</para>

    <para><emphasis role="bold">Important</emphasis> These test data are based on the thesaurus UNESCO_FR that must be loaded with file <emphasis role="bold">unesco_fr.sql</emphasis></para></sect1>

  <sect1>
    <title>Thesaurus and internal indexes</title>

    <para>PMB also offers the possibility to load a thesaurus (filling of PMB categories) and an internal index.</para>

    <para>You can load the following thesauri:</para>

    <itemizedlist><listitem><para>unesco_fr.sql: UNESCO hierarchized thesaurus, fairly large and designed well.</para></listitem>

      <listitem><para>grumeau.sql: smaller, simpler and also designed well.</para></listitem>

      <listitem><para>environnemen.sql: A possible thesaurus for an environmentally oriented documentation base.</para></listitem></itemizedlist>

    <para>You can load the following internal indexes:</para>

    <itemizedlist><listitem><para>indexint_100.sql: 100 knowledge boxes or color wheel, decimal index, Dewey style simplified for teaching</para></listitem>

      <listitem><para>indexint_chambery.sql: Dewey style index of the Chamb&eacute;ry municipal library, very well conceived but not very useful for small libraries</para></listitem>

      <listitem><para>indexint_dewey.sql : Dewey style index</para></listitem>

      <listitem><para>indexint_small_en.sql : small English Dewey style index</para></listitem></itemizedlist></sect1>

  <sect1>
    <title>Deleting test datasets</title>

    <para>The test datasets that you might have loaded to test PMB is not useful for a daily PMB usage and could interfere with your database.</para>

    <sect2>
      <title>With Windows</title>

      <para>To delete the test set from the database, in Windows the file empty_example_set.bat is available</para>

      <para>This program is launched from the Windows command line, accessible from the menu Start &gt; Run then enter &quot;cmd&quot; in Windows 2000 or XP. Enter the application's path, for example</para>

      <para><programlisting>c:/pmb/tables/empty_example_set.bat %1 %2 %3 %4 </programlisting></para>

      <para>With the values:</para>

      <itemizedlist><listitem><para>%1 : name of the database</para></listitem>

        <listitem><para>%2 : name of the host computer for mysql server</para></listitem>

        <listitem><para>%3 : user name of the PMB database</para></listitem>

        <listitem><para>%4 : user password (can be blank)</para></listitem></itemizedlist>

      <para><emphasis role="bold">Warning</emphasis> The application <emphasis>mysql.exe</emphasis> must be part of the environment path in order to be launched by empty_example_set.bat, if this batch file does not work, edit it and on line 74 specify the path for MySQL</para>

      <para><emphasis role="bold">Operation screen for empty_example_set.bat</emphasis></para>

      <para><programlisting>When you have loaded the PMB test data (data_test.sql), a set of bibliographical notes and copies is then available to test PMB. This script offers to delete the example tables from the application in order to start anew with an empty database: ------------------------------------------ borrowers table borrower groups table loans table notes table copies table periodical bulletins table periodical contents table series table collections table sub-collections table authors table editors table ------------------------------------------ e) EMPTY THE EXAMPLE TABLES q) Quit</programlisting></para>

      <para>Then press letter <emphasis role="bold">e</emphasis> to empty the examples or <emphasis role="bold">q</emphasis> to quit</para></sect2>

    <sect2>
      <title>With Linux</title>

      <para>To delete the test set from the database, in Linux the file empty_example_set.cmd is available. its operation is identical to empty_example_set.bat under Windows</para>

      <para><emphasis role="bold">Warning</emphasis> The executable file <emphasis>mysql</emphasis> must be part of the environment &quot;path&quot; in order to be launched by empty_example_set.cmd</para></sect2></sect1>

  <sect1>
    <title>Further Information</title>

    <para>For more information on the thesauri and internal indexes provided with PMB refer to the <emphasis>PMB User's Guide</emphasis>.</para>

    <para>For more information on the tables loaded by the various SQL files, refer to the file tables/readme.txt</para>

    <para>To display the PMB database structure, open the file /doc/noyau/index.php with your browser.</para></sect1></chapter>